/*
 * Created Date: Tuesday September 11th 2018 11:28:31 am
 * Author: chengpu
 * -----
 * Last Modified:Tuesday September 11th 2018 11:28:31 am
 * Modified By: chengpu
 */
module.exports=function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=5)}([function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};var o=function(t){var e={};return{custom:function(t){if(t){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);e=t}},default:function(t){if(!t)return e;e[t.namespace]=r({},e[t.namespace],t.data)}}}(),a=o.default,u=o.custom;var i=function(){var t={};return function(e){if(!e)return t;t[e.namespace]=e}}();e.modelStore=i,e.createStoreWithCustomStore=u,e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){var n=t.type,a=t.data;(0,r.default)({namespace:n,data:a}),o.default.publish(n,a,e)};var r=a(n(0)),o=a(n(2));function a(t){return t&&t.__esModule?t:{default:t}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();var o=new(function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.topics={},this.subUid=-1}return r(t,[{key:"publish",value:function(t,e,n){var r=this;return!!this.topics[t]&&(setTimeout(function(){for(var o=r.topics[t],a=o?o.length:0;a--;)o[a].func(t,e,n)},0),!0)}},{key:"subscribe",value:function(t,e){this.topics[t]||(this.topics[t]=[]);var n=(++this.subUid).toString();return this.topics[t].push({token:n,func:e}),n}},{key:"unsubscribe",value:function(t){for(var e in this.topics)if(this.topics[e])for(var n=0,r=this.topics[e].length;n<r;n++)if(this.topics[e][n].token===t)return this.topics[e].splice(n,1),t;return!1}}]),t}());e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=i(n(0)),u=i(n(2));function i(t){return t&&t.__esModule?t:{default:t}}var c=function(){function t(e){var n=e.actions,r=e.baseActions;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.actions=n,this.baseActions=r,this._tokens=[]}return o(t,[{key:"__subscribe__",value:function(t){var e=u.default.subscribe(t,this.__dispatch__);this.__saveSubscription__(e);var n=(0,a.default)();this.__sync__(t,n[t])}},{key:"__unsubscribe__",value:function(t){t?u.default.unsubscribe(t):this._tokens.forEach(function(t){u.default.unsubscribe(t)})}},{key:"__saveSubscription__",value:function(t){this._tokens.push(t)}},{key:"__dispatch__",value:function(t,e,n){var o=this.data.props;o[t]=r({},o[t],e),this.setData({props:o},n)}},{key:"__sync__",value:function(t,e){var n=this.data.props;n[t]=r({},n[t],e),this.setData({props:n})}}]),t}();e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=i(n(0)),u=i(n(2));function i(t){return t&&t.__esModule?t:{default:t}}var c=function(){function t(e){var n=e.actions,r=e.baseActions;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.methods={},this.actions=n,this.baseActions=r,this._tokens=[]}return o(t,[{key:"__subscribe__",value:function(t){var e=this,n=u.default.subscribe(t,function(t,n){return e.__dispatch__.call(e,t,n)});this.__saveSubscription__(n);var r=(0,a.default)();this.__sync__(t,r[t])}},{key:"__unsubscribe__",value:function(t){t?u.default.unsubscribe(this._tokens):this._tokens.forEach(function(t){u.default.unsubscribe(t)})}},{key:"__saveSubscription__",value:function(t){this._tokens.push(t)}},{key:"__dispatch__",value:function(t,e,n){var o=this.data.props;o[t]=r({},o[t],e),this.setData({props:o},n)}},{key:"__sync__",value:function(t,e){var n=this.data.props;n[t]=r({},n[t],e),this.setData({props:n})}}]),t}();e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.store=e.Selector=e.modelRegister=e.Model=e.Application=e.Module=e.Controller=e.dispatch=void 0;var r=_(n(1)),o=n(6),a=_(o),u=_(n(3)),i=_(n(4)),c=_(n(8)),s=n(9),f=_(s),l=_(n(0));function _(t){return t&&t.__esModule?t:{default:t}}e.default=a.default,e.dispatch=r.default,e.Controller=u.default,e.Module=i.default,e.Application=c.default,e.Model=f.default,e.modelRegister=s.modelRegister,e.Selector=o.Selector,e.store=l.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.default=function(t){return function(e){var n=new e(t),r=Object.getOwnPropertyNames(e.prototype.__proto__),o=Object.getOwnPropertyNames(n.__proto__),a=[].concat(_(r),_(o));a.forEach(function(t){n[t]=n[t]}),delete n.constructor,App(n)}},e.Selector=function(){var t=[].slice.call(arguments),e=[],n=[],r=t[0];"object"!==(void 0===r?"undefined":o(r))||isNaN(r.length)?"object"===(void 0===r?"undefined":o(r))&&(n=r):(e=r,n=t[1]?t[1]:[]);return function(o){var a=new o({actions:function(t){var e={};for(var n in t)t.hasOwnProperty(n)&&function(){var r=t[n];e[n]=function(t){return new Promise(function(e){r(t,function(t){var n=t.data;(0,s.default)(t,function(){e(n)})},(0,u.default)())})}}();return e}(n),baseActions:f});if(i.default.prototype.isPrototypeOf(a)){for(var l=o.prototype.__proto__,d=[];l.constructor.name!==Object.name;)d.push.apply(d,_(Object.getOwnPropertyNames(l))),l=l.__proto__;var v=Object.getOwnPropertyNames(a.__proto__),h=[].concat(d,_(v));return h.forEach(function(t){a[t]=a[t]}),delete a.constructor,function(t,e){var n=t.onLoad;t.onLoad=function(t){var r=this;e.forEach(function(t){r.__subscribe__(t)}),n&&n.call(this,t)};var r=t.onUnload;t.onUnload=function(t){this.__unsubscribe__(),r&&r.call(this,t)}}(a,e),p(a,e),e=null,n=null,t=null,r=null,Page(a)}if(c.default.prototype.isPrototypeOf(a)){for(var b={created:!0,attached:!0,ready:!0,moved:!0,detached:!0},y=o.prototype.__proto__,m=[];y.constructor.name!==Object.name;)m.push.apply(m,_(Object.getOwnPropertyNames(y))),y=y.__proto__;var O=Object.getOwnPropertyNames(a.__proto__),j=[].concat(m,_(O));return j.forEach(function(t){b[t]||(a.methods[t]=a[t])}),delete a.methods.constructor,function(t,e){var n=t.attached;t.attached=function(r){var o=this;this.actions=t._actions,this._tokens=t._tokens,e.forEach(function(t){o.__subscribe__(t)}),n&&n.call(this,r)};var r=t.detached;t.detached=function(t){this.__unsubscribe__(),r&&r.call(this,t)}}(a,e),p(a,e),e=null,n=null,t=null,r=null,Component(a)}}};var a=n(0),u=l(a),i=l(n(3)),c=l(n(4)),s=l(n(1)),f=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(7));function l(t){return t&&t.__esModule?t:{default:t}}function _(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function p(t,e){var n=(0,a.modelStore)(),o={};e.forEach(function(t){o[t]=n[t].data}),t.data=r({},t.data,{props:o})}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};e.rollBack=function(t){return new Promise(function(e){var n=(0,a.modelStore)();(0,i.default)({type:t,data:r({},n[t].data)},e)})};var o,a=n(0),u=n(1),i=(o=u)&&o.__esModule?o:{default:o}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(0);e.default=function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.store=e,(0,r.createStoreWithCustomStore)(e)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.modelRegister=function(){var t=[].slice.call(arguments);t.length>0&&t.forEach(function(t){(0,o.modelStore)(new t),(0,a.default)(new t)});return(0,o.modelStore)()};var r,o=n(0),a=(r=o)&&r.__esModule?r:{default:r};var u=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)};u.namespace="Model",u.data={},e.default=u}]);
